import os
import shutil

#Extracting json and group them per famiies.

path = './stamp_output'

target = './samples/popl17/drebin/'

dirs = os.listdir( path )

for myfile in dirs:
    print myfile
    family = myfile.split('_')[7];
    app = myfile.split('_')[8];
    tgt = target + family
    exist = os.path.isdir(tgt)

    jsonName = app.replace('.apk', '.json')
    if not exist:
        os.mkdir(tgt) 

    jsonLoc = path + '/' + myfile + '/' + jsonName

    fileExist = os.path.isfile(jsonLoc)

    ###copy json to its folder
    if fileExist:
        print jsonLoc + '------>' + tgt
        shutil.copy(jsonLoc, tgt)
